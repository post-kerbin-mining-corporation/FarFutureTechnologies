//// 
// 
PART
{
  // --- general parameters ---
  name = fft-rcs-arcjet-1
  module = Part
  author = ChrisAdderley

  // --- asset parameters ---
  MODEL
  {
    model = FarFutureTechnologies/Parts/Control/RCS/fft-rcs-arcjet-1
    position = 0.0, 0.0, 0.0
    scale =1,1,1
    rotation = 0, 0, 0
  }
  scale = 1

  // --- node definitions ---
  // definition format is Position X, Position Y, Position Z, Up X, Up Y, Up Z
  node_attach = 0.00, -0.0, 0.0484, 0.0, 0.0, -1.0

  // --- editor parameters ---
  TechRequired = ionPropulsion
  entryCost = 12000
  cost = 800
  category = Control
  subcategory = 0
  title = #LOC_FFT_fft-rcs-arcjet-1_title
  manufacturer = #LOC_FFT_manufacturer_postkerbin_title
  description = #LOC_FFT_fft-rcs-arcjet-1_description

  // attachment rules: stack, srfAttach, allowStack, allowSrfAttach, allowCollision
  attachRules = 0,1,0,0,0
  // --- standard part parameters ---
  mass = 0.06
  dragModelType = default
  maximum_drag = 0.001
  minimum_drag = 0.001
  angularDrag = 2
  crashTolerance = 15
  maxTemp = 1700
  PhysicsSignificance = 1

  EFFECTS
  {
    running
    {
      AUDIO_MULTI
      {
        channel = Ship
        transformName = thrustVector
        clip = sound_rocket_mini
        volume = 0.0 0.0
        volume = 0.1 0.0
        volume = 0.5 0.025
        volume = 1.0 0.1
        pitch = 0.0 0.75
        pitch = 1.0 1.5
        loop = true
      }
    }
    
  }

  // --- rcs module parameters ---
  bulkheadProfiles = srf
  tags = #LOC_FFT_fft-rcs-arcjet-1_tags
  MODULE
  {
    name = ModuleB9DisableTransform
    transform = RCSMask
  }
  MODULE
  {
    name = ModuleRCSFX
    stagingEnabled = False
    thrusterTransformName = thrustVector
    thrusterPower = 10
    resourceName = Lithium
    resourceFlowMode = STAGE_PRIORITY_FLOW
    runningEffectName = running
    PROPELLANT
    {
      name = Lithium
      ratio = 1.0
      DrawGauge = True
      resourceFlowMode = STAGE_PRIORITY_FLOW
    }
    PROPELLANT
    {
      name = ElectricCharge
      ratio = 52.3854
      resourceFlowMode = STAGE_PRIORITY_FLOW
    }
    atmosphereCurve
    {
      key = 0 1000
      key = 1 150
      key = 4 0.001
    }
  }
  MODULE
  {
    name = ModuleB9PartSwitch
    moduleID = RCSFuel
    switcherDescription = #LOC_FFT_switcher_rcs-fuel
    switchInFlight = False
    SUBTYPE
    {
      name = Lithium
      title =#LOC_FFT_switcher_rcs-fuel_li
      primaryColor = #ab4032
      descriptionDetail = #LOC_FFT_switcher_rcs-fuel_li_detail
      descriptionSummary = #LOC_FFT_switcher_rcs-fuel_li_summary
      transform = RCSLi
      MODULE
      {
        IDENTIFIER
        {
          name = ModuleRCSFX
        }
        DATA
        {
          thrusterPower = 1
          PROPELLANT
          {
            name = Lithium
            ratio = 1
            resourceFlowMode = STAGE_PRIORITY_FLOW
          }
          PROPELLANT
          {
            name = ElectricCharge
            ratio = 52.3854
            resourceFlowMode = STAGE_PRIORITY_FLOW
          }
          atmosphereCurve
          {
            key = 0 1000
            key = 1 100
            key = 4 0.001
          }
        }
      }
      MODULE
      {
        IDENTIFIER
        {
          name = ModuleWaterfallFX
        }
        DATA
        {
          TEMPLATE
          {
            templateName = fft-waterfall-arcjet-li-1
            overrideParentTransform = thrustVector
            scale = 0.3, 0.3, 0.3
            rotation = 0,0,0
            position = 0,0,0
          }
        }
      }       
    }
    SUBTYPE
    {
      name = Hydrogen
      title = #LOC_FFT_switcher_rcs-fuel_h2
      primaryColor = ResourceColorLqdHydrogen
      descriptionDetail = #LOC_FFT_switcher_rcs-fuel_h2_detail
      descriptionSummary = #LOC_FFT_switcher_rcs-fuel_h2_summary
      transform = RCSLH2
      MODULE
      {
        IDENTIFIER
        {
          name = ModuleRCSFX
        }
        DATA
        {
          thrusterPower = 0.8
          PROPELLANT
          {
            name = LqdHydrogen
            ratio = 1
            resourceFlowMode = STAGE_PRIORITY_FLOW
          }
          PROPELLANT
          {
            name = ElectricCharge
            ratio = 15.63836625
            resourceFlowMode = STAGE_PRIORITY_FLOW
          }
          atmosphereCurve
          {
            key = 0 1800
            key = 1 100
            key = 4 0.001
          }
        }
      }   
      MODULE
      {
        IDENTIFIER
        {
          name = ModuleWaterfallFX
        }
        DATA
        {
          TEMPLATE
          {
            templateName = fft-waterfall-arcjet-h2-1
            overrideParentTransform = thrustVector
            scale = 0.3, 0.3, 0.3
            rotation = 0,0,0
            position = 0,0,0
          }
        }
      }    
    }
    
  }
  MODULE
  {
    name = ModuleB9PartSwitch
    moduleID = RCSType
    switcherDescription = #LOC_FFT_switcher_rcs-type
    switchInFlight = False
    SUBTYPE
    {
      name = 4x
      title = #LOC_FFT_switcher_rcs-type_4x
      primaryColor = White
      descriptionSummary = #LOC_FFT_switcher_rcs-type_4x_detail
      transform = FFTRCS4x    
      addedMass = 0
      addedCost = 0
    }
    SUBTYPE
    {
      name = 3x
      title = #LOC_FFT_switcher_rcs-type_3x
      primaryColor = White
      secondaryColor = Grey
      descriptionSummary = #LOC_FFT_switcher_rcs-type_3x_detail
      transform = FFTRCS3x  
      addedMass = -0.015
      addedCost = -200
    }  
    SUBTYPE
    {
      name = 2x
      title = #LOC_FFT_switcher_rcs-type_2x
      primaryColor = Grey
      secondaryColor = Grey
      descriptionSummary = #LOC_FFT_switcher_rcs-type_2x_detail
      transform = FFTRCS2x  
      addedMass = -0.03
      addedCost = -400
    }    
    SUBTYPE
    {
      name = 1x
      title = #LOC_FFT_switcher_rcs-type_1x
      primaryColor = Grey
      secondaryColor = Black
      descriptionSummary = #LOC_FFT_switcher_rcs-type_1x_detail
      transform = FFTRCS1x  
      addedMass = -0.045
      addedCost = -600
    }      
  }
  MODULE
  {
    name = ModuleCargoPart
    packedVolume = 40
  }
  MODULE
  {
    name = ModuleWaterfallFX
    moduleID = rcsFX
    engineID = basicEngine
    ATMOSPHEREDENSITYCONTROLLER
    {
      name = atmosphereDepth
    }
    RCSCONTROLLER
    {
      name = rcs
    }
 
    TEMPLATE
    {
      templateName = fft-waterfall-arcjet-li-1
      overrideParentTransform = thrustVector
      scale = 0.3, 0.3, 0.3
      rotation = 0,0,0
      position = 0,0,0
    }
  }
}
